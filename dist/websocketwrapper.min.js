!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.WebSocketWrapper=e()}}(function(){return function e(t,n,o){function r(i,c){if(!n[i]){if(!t[i]){var a="function"==typeof require&&require;if(!c&&a)return a(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return r(n?n:e)},l,l.exports,e,t,n,o)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,t){function n(e,t,n,c,u,l){i("new() | [url:%s, protocols:%s]",e,t);var f=this;this.createWebSocket=function(){this.ws=new a(e,t,n,c,u,l),this.ws.onopen=function(e){o.call(f,e)},this.ws.onerror=function(e){r.call(f,e)},this.ws.onclose=function(e){s.call(f,e)},this._onmessage&&(this.ws.onmessage=this._onmessage),this._binaryType&&(this.ws.binaryType=this._binaryType)},this.createWebSocket(),this.closed=!1,this.hasError=!1,this.isReconnecting=!1,this.reconnectionTimer=null,this.reconnectionDelay=2e3}function o(e){this.isReconnecting?(i("onreconnect()"),this.onreconnect?this.onreconnect(e):this.onopen&&this.onopen(e)):(i("onopen()"),this.onopen&&this.onopen(e))}function r(e){c("onerror() | event: %o",e),this.hasError=!0,this.onerror&&this.onerror(e)}function s(e){c("onclose() | event: %o",e);var t=this;this.onclose&&this.onclose(e),this.closed||this.hasError||(this.hasError=!1,this.reconnectionDelay&&(this.reconnectionTimer=setTimeout(function(){i("reconnecting ..."),t.isReconnecting=!0,t.createWebSocket()},this.reconnectionDelay)))}t.exports=n;var i=e("debug")("WebSocketWrapper"),c=e("debug")("WebSocketWrapper:ERROR");c.log=console.warn.bind(console);var a=e("websocket").w3cwebsocket;Object.defineProperties(n.prototype,{url:{get:function(){return this.ws.url}},readyState:{get:function(){return this.ws.readyState}},protocol:{get:function(){return this.ws.protocol}},extensions:{get:function(){return this.ws.extensions}},bufferedAmount:{get:function(){return this.ws.bufferedAmount}},CONNECTING:{get:function(){return this.ws.CONNECTING}},OPEN:{get:function(){return this.ws.OPEN}},CLOSING:{get:function(){return this.ws.CLOSING}},CLOSED:{get:function(){return this.ws.CLOSED}},binaryType:{get:function(){return this.ws.binaryType},set:function(e){this._binaryType=e,this.ws.binaryType=e}},onmessage:{get:function(){return this.ws.onmessage},set:function(e){this._onmessage=e,this.ws.onmessage=e}}}),n.prototype.send=function(e){this.ws.send(e)},n.prototype.close=function(e,t){i("close() |[code:%d, reason:%s]",e,t),this.closed||(this.closed=!0,this.onopen=null,this.onerror=null,this.onmessage=null,clearTimeout(this.reconnectionTimer),(this.ws.readyState===this.ws.CONNECTING||this.ws.readyState===this.ws.OPEN)&&this.ws.close(e,t))},n.prototype.setReconnectionDelay=function(e){this.reconnectionDelay=e}},{debug:2,websocket:5}],2:[function(e,t,n){function o(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var o="color: "+this.color;e=[e[0],o,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,s=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(s=r))}),e.splice(s,0,o),e}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(e){try{null==e?a.removeItem("debug"):a.debug=e}catch(t){}}function c(){var e;try{e=a.debug}catch(t){}return e}n=t.exports=e("./debug"),n.log=s,n.formatArgs=r,n.save=i,n.load=c,n.useColors=o;var a;a="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:window.localStorage,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(c())},{"./debug":3}],3:[function(e,t,n){function o(){return n.colors[l++%n.colors.length]}function r(e){function t(){}function r(){var e=r,t=+new Date,s=t-(u||t);e.diff=s,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=o());var i=Array.prototype.slice.call(arguments);i[0]=n.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var c=0;i[0]=i[0].replace(/%([a-z%])/g,function(t,o){if("%%"===t)return t;c++;var r=n.formatters[o];if("function"==typeof r){var s=i[c];t=r.call(e,s),i.splice(c,1),c--}return t}),"function"==typeof n.formatArgs&&(i=n.formatArgs.apply(e,i));var a=r.log||n.log||console.log.bind(console);a.apply(e,i)}t.enabled=!1,r.enabled=!0;var s=n.enabled(e)?r:t;return s.namespace=e,s}function s(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),o=t.length,r=0;o>r;r++)t[r]&&(e=t[r].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function i(){n.enable("")}function c(e){var t,o;for(t=0,o=n.skips.length;o>t;t++)if(n.skips[t].test(e))return!1;for(t=0,o=n.names.length;o>t;t++)if(n.names[t].test(e))return!0;return!1}function a(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=r,n.coerce=a,n.disable=i,n.enable=s,n.enabled=c,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u,l=0},{ms:4}],4:[function(e,t){function n(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"y":return n*l;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"h":return n*a;case"minutes":case"minute":case"m":return n*c;case"seconds":case"second":case"s":return n*i;case"ms":return n}}}function o(e){return e>=u?Math.round(e/u)+"d":e>=a?Math.round(e/a)+"h":e>=c?Math.round(e/c)+"m":e>=i?Math.round(e/i)+"s":e+"ms"}function r(e){return s(e,u,"day")||s(e,a,"hour")||s(e,c,"minute")||s(e,i,"second")||e+" ms"}function s(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var i=1e3,c=60*i,a=60*c,u=24*a,l=365.25*u;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?r(e):o(e)}},{}],5:[function(e,t){function n(e,t){var n;return n=t?new r(e,t):new r(e)}var o=function(){return this}(),r=o.WebSocket||o.MozWebSocket;t.exports={w3cwebsocket:r?n:null,version:e("./version")}},{"./version":6}],6:[function(e,t){t.exports=e("../package.json").version},{"../package.json":7}],7:[function(e,t){t.exports={name:"websocket",description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],author:{name:"Brian McKelvey",email:"brian@worlize.com",url:"https://www.worlize.com/"},version:"1.0.17",repository:{type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},homepage:"https://github.com/theturtle32/WebSocket-Node",engines:{node:">=0.8.0"},dependencies:{debug:"~2.1.0",nan:"~1.0.0","typedarray-to-buffer":"~3.0.0"},devDependencies:{"buffer-equal":"0.0.1",faucet:"0.0.1",gulp:"git+https://github.com/gulpjs/gulp.git#4.0","gulp-jshint":"^1.9.0","jshint-stylish":"^1.0.0",tape:"^3.0.0"},config:{verbose:!1},scripts:{install:"(node-gyp rebuild 2> builderror.log) || (exit 0)",test:"faucet test/unit",gulp:"gulp"},main:"index",directories:{lib:"./lib"},browser:"lib/browser.js",gitHead:"cda940b883aa884906ac13158fe514229a67f426",bugs:{url:"https://github.com/theturtle32/WebSocket-Node/issues"},_id:"websocket@1.0.17",_shasum:"8a572afc6ec120eb41473ca517d07d932f7b6a1c",_from:"websocket@*",_npmVersion:"1.4.28",_npmUser:{name:"theturtle32",email:"brian@worlize.com"},maintainers:[{name:"theturtle32",email:"brian@worlize.com"}],dist:{shasum:"8a572afc6ec120eb41473ca517d07d932f7b6a1c",tarball:"http://registry.npmjs.org/websocket/-/websocket-1.0.17.tgz"},_resolved:"https://registry.npmjs.org/websocket/-/websocket-1.0.17.tgz",readme:"ERROR: No README data found!"}},{}]},{},[1])(1)});